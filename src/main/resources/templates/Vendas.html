<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tela de Vendas</title>
</head>

<body>
    <form class="form-horizontal" th:object="${venda}" th:action="@{/vendas/salvar}" method="POST" style="margin: 10px">
        <div>
            <div>
                <label for="dataVenda">Data da Venda:</label>
                <input type="date" th:field="*{dataVenda}" id="dataVenda" />

                <label for="cliente">Cliente:</label>
                <select th:field="*{cliente.cod_cliente}">
                    <option th:each="c : ${clientes}" th:value="${c.cod_cliente}" th:text="${c.nome}"></option>
                </select>

            </div>


            <label for="produto">Produto:</label>
            <select th:field="*{itemVenda.produto.cod_prod}">
                <option th:each="p : ${produtos}" th:value="${p.cod_prod}" th:text="${p.descricao}"></option>
            </select>

            <label>Descrição do produto:</label>
            <input type="text" th:field="*{itemVenda.produto.descricao}" id="descricao"
                placeholder="Descrição do produto" readonly />

        </div>

        <div>
            <label for="qteVendida">Quantidade vendida</label>
            <input type="number" th:field="*{itemVenda.qteVendida}" id="quantidade" placeholder="Quantidade" readonly />
        </div>

        <div>
            <label for="precoVenda">Preço de venda:</label>
            <input type="number" th:field="*{itemVenda.precoVenda}" id="precoVenda"
                placeholder="Digite o valor do produto" readonly />
        </div>

        <div>
            <label>Valor total:</label>
            <input type="number" id="total" th:field="*{valorTotal}" readonly />
        </div>

        <input type="submit" value="Registrar venda">
    </form>

    <script>
        function calculateTotal() {
            var quantity = document.getElementById('quantidade').value;
            var price = document.getElementById('precoVenda').value;
            var total = quantity * price;
            document.getElementById('total').value = total;
        }
    </script>
</body>

</html>